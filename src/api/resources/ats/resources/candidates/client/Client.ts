/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as environments from "../../../../../../environments";
import * as core from "../../../../../../core";
import * as Merge from "../../../../../index";
import * as serializers from "../../../../../../serialization/index";
import { mergeHeaders, mergeOnlyDefinedHeaders } from "../../../../../../core/headers";
import * as errors from "../../../../../../errors/index";

export declare namespace Candidates {
    export interface Options {
        environment?: core.Supplier<environments.MergeEnvironment | string>;
        /** Specify a custom URL to connect the client to. */
        baseUrl?: core.Supplier<string>;
        apiKey: core.Supplier<core.BearerToken>;
        /** Override the X-Account-Token header */
        accountToken?: core.Supplier<string | undefined>;
        /** Additional headers to include in requests. */
        headers?: Record<string, string | core.Supplier<string | undefined> | undefined>;
        fetcher?: core.FetchFunction;
    }

    export interface RequestOptions {
        /** The maximum time to wait for a response in seconds. */
        timeoutInSeconds?: number;
        /** The number of times to retry the request. Defaults to 2. */
        maxRetries?: number;
        /** A hook to abort the request. */
        abortSignal?: AbortSignal;
        /** Override the X-Account-Token header */
        accountToken?: string | undefined;
        /** Additional query string parameters to include in the request. */
        queryParams?: Record<string, unknown>;
        /** Additional headers to include in the request. */
        headers?: Record<string, string | core.Supplier<string | undefined> | undefined>;
    }
}

export class Candidates {
    protected readonly _options: Candidates.Options;

    constructor(_options: Candidates.Options) {
        this._options = _options;
    }

    /**
     * Returns a list of `Candidate` objects.{/* BEGIN_ATS_CANDIDATE_FETCH_SUPPORTED_FIELDS * /}<Footer><MergeSupportedFieldsByIntegrationWidget requestType="GET" data="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" /></Footer>{/* END_ATS_CANDIDATE_FETCH_SUPPORTED_FIELDS * /}
     *
     * @param {Merge.ats.ListCandidatesRequest} request
     * @param {Candidates.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @example
     *     await client.ats.candidates.list({
     *         cursor: "cD0yMDIxLTAxLTA2KzAzJTNBMjQlM0E1My40MzQzMjYlMkIwMCUzQTAw"
     *     })
     */
    public list(
        request: Merge.ats.ListCandidatesRequest = {},
        requestOptions?: Candidates.RequestOptions,
    ): core.HttpResponsePromise<Merge.ats.PaginatedCandidateList> {
        return core.HttpResponsePromise.fromPromise(this.__list(request, requestOptions));
    }

    private async __list(
        request: Merge.ats.ListCandidatesRequest = {},
        requestOptions?: Candidates.RequestOptions,
    ): Promise<core.WithRawResponse<Merge.ats.PaginatedCandidateList>> {
        const {
            createdAfter,
            createdBefore,
            cursor,
            emailAddresses,
            expand,
            firstName,
            includeDeletedData,
            includeRemoteData,
            includeShellData,
            lastName,
            modifiedAfter,
            modifiedBefore,
            pageSize,
            remoteId,
            tags,
        } = request;
        const _queryParams: Record<string, string | string[] | object | object[] | null> = {};
        if (createdAfter != null) {
            _queryParams["created_after"] = createdAfter.toISOString();
        }

        if (createdBefore != null) {
            _queryParams["created_before"] = createdBefore.toISOString();
        }

        if (cursor != null) {
            _queryParams["cursor"] = cursor;
        }

        if (emailAddresses != null) {
            _queryParams["email_addresses"] = emailAddresses;
        }

        if (expand != null) {
            _queryParams["expand"] = serializers.ats.ListCandidatesRequestExpand.jsonOrThrow(expand, {
                unrecognizedObjectKeys: "strip",
            });
        }

        if (firstName !== undefined) {
            _queryParams["first_name"] = firstName;
        }

        if (includeDeletedData != null) {
            _queryParams["include_deleted_data"] = includeDeletedData.toString();
        }

        if (includeRemoteData != null) {
            _queryParams["include_remote_data"] = includeRemoteData.toString();
        }

        if (includeShellData != null) {
            _queryParams["include_shell_data"] = includeShellData.toString();
        }

        if (lastName !== undefined) {
            _queryParams["last_name"] = lastName;
        }

        if (modifiedAfter != null) {
            _queryParams["modified_after"] = modifiedAfter.toISOString();
        }

        if (modifiedBefore != null) {
            _queryParams["modified_before"] = modifiedBefore.toISOString();
        }

        if (pageSize != null) {
            _queryParams["page_size"] = pageSize.toString();
        }

        if (remoteId !== undefined) {
            _queryParams["remote_id"] = remoteId;
        }

        if (tags != null) {
            _queryParams["tags"] = tags;
        }

        const _response = await (this._options.fetcher ?? core.fetcher)({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.MergeEnvironment.Production,
                "ats/v1/candidates",
            ),
            method: "GET",
            headers: mergeHeaders(
                this._options?.headers,
                mergeOnlyDefinedHeaders({
                    Authorization: await this._getAuthorizationHeader(),
                    "X-Account-Token": requestOptions?.accountToken,
                }),
                requestOptions?.headers,
            ),
            queryParameters: { ..._queryParams, ...requestOptions?.queryParams },
            timeoutMs: requestOptions?.timeoutInSeconds != null ? requestOptions.timeoutInSeconds * 1000 : 60000,
            maxRetries: requestOptions?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
        });
        if (_response.ok) {
            return {
                data: serializers.ats.PaginatedCandidateList.parseOrThrow(_response.body, {
                    unrecognizedObjectKeys: "passthrough",
                    allowUnrecognizedUnionMembers: true,
                    allowUnrecognizedEnumValues: true,
                    skipValidation: true,
                    breadcrumbsPrefix: ["response"],
                }),
                rawResponse: _response.rawResponse,
            };
        }

        if (_response.error.reason === "status-code") {
            throw new errors.MergeError({
                statusCode: _response.error.statusCode,
                body: _response.error.body,
                rawResponse: _response.rawResponse,
            });
        }

        switch (_response.error.reason) {
            case "non-json":
                throw new errors.MergeError({
                    statusCode: _response.error.statusCode,
                    body: _response.error.rawBody,
                    rawResponse: _response.rawResponse,
                });
            case "timeout":
                throw new errors.MergeTimeoutError("Timeout exceeded when calling GET /ats/v1/candidates.");
            case "unknown":
                throw new errors.MergeError({
                    message: _response.error.errorMessage,
                    rawResponse: _response.rawResponse,
                });
        }
    }

    /**
     * Creates a `Candidate` object with the given values.{/* BEGIN_ATS_CANDIDATE_CREATE_SUPPORTED_FIELDS * /}<Footer><MergeSupportedFieldsByIntegrationWidget requestType="POST" data="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" /></Footer>{/* END_ATS_CANDIDATE_CREATE_SUPPORTED_FIELDS * /}
     *
     * @param {Merge.ats.CandidateEndpointRequest} request
     * @param {Candidates.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @example
     *     await client.ats.candidates.create({
     *         model: {},
     *         remoteUserId: "remote_user_id"
     *     })
     */
    public create(
        request: Merge.ats.CandidateEndpointRequest,
        requestOptions?: Candidates.RequestOptions,
    ): core.HttpResponsePromise<Merge.ats.CandidateResponse> {
        return core.HttpResponsePromise.fromPromise(this.__create(request, requestOptions));
    }

    private async __create(
        request: Merge.ats.CandidateEndpointRequest,
        requestOptions?: Candidates.RequestOptions,
    ): Promise<core.WithRawResponse<Merge.ats.CandidateResponse>> {
        const { isDebugMode, runAsync, ..._body } = request;
        const _queryParams: Record<string, string | string[] | object | object[] | null> = {};
        if (isDebugMode != null) {
            _queryParams["is_debug_mode"] = isDebugMode.toString();
        }

        if (runAsync != null) {
            _queryParams["run_async"] = runAsync.toString();
        }

        const _response = await (this._options.fetcher ?? core.fetcher)({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.MergeEnvironment.Production,
                "ats/v1/candidates",
            ),
            method: "POST",
            headers: mergeHeaders(
                this._options?.headers,
                mergeOnlyDefinedHeaders({
                    Authorization: await this._getAuthorizationHeader(),
                    "X-Account-Token": requestOptions?.accountToken,
                }),
                requestOptions?.headers,
            ),
            contentType: "application/json",
            queryParameters: { ..._queryParams, ...requestOptions?.queryParams },
            requestType: "json",
            body: serializers.ats.CandidateEndpointRequest.jsonOrThrow(_body, { unrecognizedObjectKeys: "strip" }),
            timeoutMs: requestOptions?.timeoutInSeconds != null ? requestOptions.timeoutInSeconds * 1000 : 60000,
            maxRetries: requestOptions?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
        });
        if (_response.ok) {
            return {
                data: serializers.ats.CandidateResponse.parseOrThrow(_response.body, {
                    unrecognizedObjectKeys: "passthrough",
                    allowUnrecognizedUnionMembers: true,
                    allowUnrecognizedEnumValues: true,
                    skipValidation: true,
                    breadcrumbsPrefix: ["response"],
                }),
                rawResponse: _response.rawResponse,
            };
        }

        if (_response.error.reason === "status-code") {
            throw new errors.MergeError({
                statusCode: _response.error.statusCode,
                body: _response.error.body,
                rawResponse: _response.rawResponse,
            });
        }

        switch (_response.error.reason) {
            case "non-json":
                throw new errors.MergeError({
                    statusCode: _response.error.statusCode,
                    body: _response.error.rawBody,
                    rawResponse: _response.rawResponse,
                });
            case "timeout":
                throw new errors.MergeTimeoutError("Timeout exceeded when calling POST /ats/v1/candidates.");
            case "unknown":
                throw new errors.MergeError({
                    message: _response.error.errorMessage,
                    rawResponse: _response.rawResponse,
                });
        }
    }

    /**
     * Returns a `Candidate` object with the given `id`.{/* BEGIN_ATS_CANDIDATE_FETCH_SUPPORTED_FIELDS * /}<Footer><MergeSupportedFieldsByIntegrationWidget requestType="GET" data="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" /></Footer>{/* END_ATS_CANDIDATE_FETCH_SUPPORTED_FIELDS * /}
     *
     * @param {string} id
     * @param {Merge.ats.RetrieveCandidatesRequest} request
     * @param {Candidates.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @example
     *     await client.ats.candidates.retrieve("id")
     */
    public retrieve(
        id: string,
        request: Merge.ats.RetrieveCandidatesRequest = {},
        requestOptions?: Candidates.RequestOptions,
    ): core.HttpResponsePromise<Merge.ats.Candidate> {
        return core.HttpResponsePromise.fromPromise(this.__retrieve(id, request, requestOptions));
    }

    private async __retrieve(
        id: string,
        request: Merge.ats.RetrieveCandidatesRequest = {},
        requestOptions?: Candidates.RequestOptions,
    ): Promise<core.WithRawResponse<Merge.ats.Candidate>> {
        const { expand, includeRemoteData, includeShellData } = request;
        const _queryParams: Record<string, string | string[] | object | object[] | null> = {};
        if (expand != null) {
            _queryParams["expand"] = serializers.ats.RetrieveCandidatesRequestExpand.jsonOrThrow(expand, {
                unrecognizedObjectKeys: "strip",
            });
        }

        if (includeRemoteData != null) {
            _queryParams["include_remote_data"] = includeRemoteData.toString();
        }

        if (includeShellData != null) {
            _queryParams["include_shell_data"] = includeShellData.toString();
        }

        const _response = await (this._options.fetcher ?? core.fetcher)({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.MergeEnvironment.Production,
                `ats/v1/candidates/${encodeURIComponent(id)}`,
            ),
            method: "GET",
            headers: mergeHeaders(
                this._options?.headers,
                mergeOnlyDefinedHeaders({
                    Authorization: await this._getAuthorizationHeader(),
                    "X-Account-Token": requestOptions?.accountToken,
                }),
                requestOptions?.headers,
            ),
            queryParameters: { ..._queryParams, ...requestOptions?.queryParams },
            timeoutMs: requestOptions?.timeoutInSeconds != null ? requestOptions.timeoutInSeconds * 1000 : 60000,
            maxRetries: requestOptions?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
        });
        if (_response.ok) {
            return {
                data: serializers.ats.Candidate.parseOrThrow(_response.body, {
                    unrecognizedObjectKeys: "passthrough",
                    allowUnrecognizedUnionMembers: true,
                    allowUnrecognizedEnumValues: true,
                    skipValidation: true,
                    breadcrumbsPrefix: ["response"],
                }),
                rawResponse: _response.rawResponse,
            };
        }

        if (_response.error.reason === "status-code") {
            throw new errors.MergeError({
                statusCode: _response.error.statusCode,
                body: _response.error.body,
                rawResponse: _response.rawResponse,
            });
        }

        switch (_response.error.reason) {
            case "non-json":
                throw new errors.MergeError({
                    statusCode: _response.error.statusCode,
                    body: _response.error.rawBody,
                    rawResponse: _response.rawResponse,
                });
            case "timeout":
                throw new errors.MergeTimeoutError("Timeout exceeded when calling GET /ats/v1/candidates/{id}.");
            case "unknown":
                throw new errors.MergeError({
                    message: _response.error.errorMessage,
                    rawResponse: _response.rawResponse,
                });
        }
    }

    /**
     * Updates a `Candidate` object with the given `id`.{/* BEGIN_ATS_CANDIDATE_EDIT_SUPPORTED_FIELDS * /}<Footer><MergeSupportedFieldsByIntegrationWidget requestType="EDIT" data="H4sIAAAAAAAAE82UbU/bMBSF/wryx6pNVkoHRJqm0HbQioaXBhhCKLqxbxO3jp3aTgtF/PcpLQPKGAyp0/bNL8fH9nOP7h2hYDFR+pZ4BKwhVZIphoJ4pAWScQYWSZVAzgPIkHikjzrBDT8cbPjHXVIlpshzpS2ybxwFMwcah8QjblbKaoXkQ47MTTU3LlVT1JCg+3ikNlycIVUiuBwj8ylVhbRvmSyFNVgqX0zLbWNJleRgjE21KpL0FCcFmt95jqWaCWQJ1mIwy5cJzFBaEDUGFtxnTjW9tHptrfwDQ4EWWRsstNEitVzJh1tTa3PjuW6KIncWL3AYTl2ULmjLqUDjNhu7m9u7zdqDy+L2r1EivtQro0ms4u1KlFARQVHph/QmCLuzYJRsBa2tm2B+1gzm43kwGn+qRAlU+mG/eRReNo7afv3oFUE0+Px993yvvdcLKnTeaQSjy1kQ0no/pON43m309umsd3ByE8wvN/vts0YQdpq9fVU/ap2afutU9X3HIVXCpcVEQ/lNQ7yru+cLD2HxTRrfrkq7GST4DMmyHpDzWl7EglPHNBzIYK4kzIxDVeZmyDi4C6toMClAY3SoEhU1ipMLmM6cXCY/6XMlH9ETjwR+2D3vrObBnwIXEAskntUF/hJg4l0RzICLCBjTaAyWtR1ybWwky19ViYCncZ4qiZEsshh1KdSYKYsRZ+S6nEwKrpEdg4YMbanwrq7vq6+h2teIMlWFwfXwevJ7Ds0Z5euGRVWWgyyr/A42bqJc8+myofwBQ6oRLLII7ArXx3GRs6d9C0l51HIr8KPoeyr2GUO9HvDHAuxQ6WykYihdI7PA/0ZMO8GBH7Q67X8R1Ncgl61ndRblYNN3q/BB7Ic4XRfzhdVKc1CXyc7t3sVfyPsHmAtFH9rjGhvFIANtT5Hqgtul1RoAvjBdQTnamR4OOxf/aYA/nMXr+x8xLwav9AgAAA==" /></Footer>{/* END_ATS_CANDIDATE_EDIT_SUPPORTED_FIELDS * /}
     *
     * @param {string} id
     * @param {Merge.ats.PatchedCandidateEndpointRequest} request
     * @param {Candidates.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @example
     *     await client.ats.candidates.partialUpdate("id", {
     *         model: {},
     *         remoteUserId: "remote_user_id"
     *     })
     */
    public partialUpdate(
        id: string,
        request: Merge.ats.PatchedCandidateEndpointRequest,
        requestOptions?: Candidates.RequestOptions,
    ): core.HttpResponsePromise<Merge.ats.CandidateResponse> {
        return core.HttpResponsePromise.fromPromise(this.__partialUpdate(id, request, requestOptions));
    }

    private async __partialUpdate(
        id: string,
        request: Merge.ats.PatchedCandidateEndpointRequest,
        requestOptions?: Candidates.RequestOptions,
    ): Promise<core.WithRawResponse<Merge.ats.CandidateResponse>> {
        const { isDebugMode, runAsync, ..._body } = request;
        const _queryParams: Record<string, string | string[] | object | object[] | null> = {};
        if (isDebugMode != null) {
            _queryParams["is_debug_mode"] = isDebugMode.toString();
        }

        if (runAsync != null) {
            _queryParams["run_async"] = runAsync.toString();
        }

        const _response = await (this._options.fetcher ?? core.fetcher)({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.MergeEnvironment.Production,
                `ats/v1/candidates/${encodeURIComponent(id)}`,
            ),
            method: "PATCH",
            headers: mergeHeaders(
                this._options?.headers,
                mergeOnlyDefinedHeaders({
                    Authorization: await this._getAuthorizationHeader(),
                    "X-Account-Token": requestOptions?.accountToken,
                }),
                requestOptions?.headers,
            ),
            contentType: "application/json",
            queryParameters: { ..._queryParams, ...requestOptions?.queryParams },
            requestType: "json",
            body: serializers.ats.PatchedCandidateEndpointRequest.jsonOrThrow(_body, {
                unrecognizedObjectKeys: "strip",
            }),
            timeoutMs: requestOptions?.timeoutInSeconds != null ? requestOptions.timeoutInSeconds * 1000 : 60000,
            maxRetries: requestOptions?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
        });
        if (_response.ok) {
            return {
                data: serializers.ats.CandidateResponse.parseOrThrow(_response.body, {
                    unrecognizedObjectKeys: "passthrough",
                    allowUnrecognizedUnionMembers: true,
                    allowUnrecognizedEnumValues: true,
                    skipValidation: true,
                    breadcrumbsPrefix: ["response"],
                }),
                rawResponse: _response.rawResponse,
            };
        }

        if (_response.error.reason === "status-code") {
            throw new errors.MergeError({
                statusCode: _response.error.statusCode,
                body: _response.error.body,
                rawResponse: _response.rawResponse,
            });
        }

        switch (_response.error.reason) {
            case "non-json":
                throw new errors.MergeError({
                    statusCode: _response.error.statusCode,
                    body: _response.error.rawBody,
                    rawResponse: _response.rawResponse,
                });
            case "timeout":
                throw new errors.MergeTimeoutError("Timeout exceeded when calling PATCH /ats/v1/candidates/{id}.");
            case "unknown":
                throw new errors.MergeError({
                    message: _response.error.errorMessage,
                    rawResponse: _response.rawResponse,
                });
        }
    }

    /**
     * Ignores a specific row based on the `model_id` in the url. These records will have their properties set to null, and will not be updated in future syncs. The "reason" and "message" fields in the request body will be stored for audit purposes.{/* BEGIN_ATS_CANDIDATE_CREATE_SUPPORTED_FIELDS * /}<Footer><MergeSupportedFieldsByIntegrationWidget requestType="POST" data="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" /></Footer>{/* END_ATS_CANDIDATE_CREATE_SUPPORTED_FIELDS * /}
     *
     * @param {string} modelId
     * @param {Merge.ats.IgnoreCommonModelRequest} request
     * @param {Candidates.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @example
     *     await client.ats.candidates.ignoreCreate("model_id", {
     *         reason: "GENERAL_CUSTOMER_REQUEST"
     *     })
     */
    public ignoreCreate(
        modelId: string,
        request: Merge.ats.IgnoreCommonModelRequest,
        requestOptions?: Candidates.RequestOptions,
    ): core.HttpResponsePromise<void> {
        return core.HttpResponsePromise.fromPromise(this.__ignoreCreate(modelId, request, requestOptions));
    }

    private async __ignoreCreate(
        modelId: string,
        request: Merge.ats.IgnoreCommonModelRequest,
        requestOptions?: Candidates.RequestOptions,
    ): Promise<core.WithRawResponse<void>> {
        const _response = await (this._options.fetcher ?? core.fetcher)({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.MergeEnvironment.Production,
                `ats/v1/candidates/ignore/${encodeURIComponent(modelId)}`,
            ),
            method: "POST",
            headers: mergeHeaders(
                this._options?.headers,
                mergeOnlyDefinedHeaders({
                    Authorization: await this._getAuthorizationHeader(),
                    "X-Account-Token": requestOptions?.accountToken,
                }),
                requestOptions?.headers,
            ),
            contentType: "application/json",
            queryParameters: requestOptions?.queryParams,
            requestType: "json",
            body: serializers.ats.IgnoreCommonModelRequest.jsonOrThrow(request, { unrecognizedObjectKeys: "strip" }),
            timeoutMs: requestOptions?.timeoutInSeconds != null ? requestOptions.timeoutInSeconds * 1000 : 60000,
            maxRetries: requestOptions?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
        });
        if (_response.ok) {
            return { data: undefined, rawResponse: _response.rawResponse };
        }

        if (_response.error.reason === "status-code") {
            throw new errors.MergeError({
                statusCode: _response.error.statusCode,
                body: _response.error.body,
                rawResponse: _response.rawResponse,
            });
        }

        switch (_response.error.reason) {
            case "non-json":
                throw new errors.MergeError({
                    statusCode: _response.error.statusCode,
                    body: _response.error.rawBody,
                    rawResponse: _response.rawResponse,
                });
            case "timeout":
                throw new errors.MergeTimeoutError(
                    "Timeout exceeded when calling POST /ats/v1/candidates/ignore/{model_id}.",
                );
            case "unknown":
                throw new errors.MergeError({
                    message: _response.error.errorMessage,
                    rawResponse: _response.rawResponse,
                });
        }
    }

    /**
     * Returns metadata for `Candidate` PATCHs.{/* BEGIN_ATS_CANDIDATE_FETCH_SUPPORTED_FIELDS * /}<Footer><MergeSupportedFieldsByIntegrationWidget requestType="GET" data="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" /></Footer>{/* END_ATS_CANDIDATE_FETCH_SUPPORTED_FIELDS * /}
     *
     * @param {string} id
     * @param {Merge.ats.MetaPatchRetrieveCandidatesRequest} request
     * @param {Candidates.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @example
     *     await client.ats.candidates.metaPatchRetrieve("id")
     */
    public metaPatchRetrieve(
        id: string,
        request: Merge.ats.MetaPatchRetrieveCandidatesRequest = {},
        requestOptions?: Candidates.RequestOptions,
    ): core.HttpResponsePromise<Merge.ats.MetaResponse> {
        return core.HttpResponsePromise.fromPromise(this.__metaPatchRetrieve(id, request, requestOptions));
    }

    private async __metaPatchRetrieve(
        id: string,
        request: Merge.ats.MetaPatchRetrieveCandidatesRequest = {},
        requestOptions?: Candidates.RequestOptions,
    ): Promise<core.WithRawResponse<Merge.ats.MetaResponse>> {
        const _response = await (this._options.fetcher ?? core.fetcher)({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.MergeEnvironment.Production,
                `ats/v1/candidates/meta/patch/${encodeURIComponent(id)}`,
            ),
            method: "GET",
            headers: mergeHeaders(
                this._options?.headers,
                mergeOnlyDefinedHeaders({
                    Authorization: await this._getAuthorizationHeader(),
                    "X-Account-Token": requestOptions?.accountToken,
                }),
                requestOptions?.headers,
            ),
            queryParameters: requestOptions?.queryParams,
            timeoutMs: requestOptions?.timeoutInSeconds != null ? requestOptions.timeoutInSeconds * 1000 : 60000,
            maxRetries: requestOptions?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
        });
        if (_response.ok) {
            return {
                data: serializers.ats.MetaResponse.parseOrThrow(_response.body, {
                    unrecognizedObjectKeys: "passthrough",
                    allowUnrecognizedUnionMembers: true,
                    allowUnrecognizedEnumValues: true,
                    skipValidation: true,
                    breadcrumbsPrefix: ["response"],
                }),
                rawResponse: _response.rawResponse,
            };
        }

        if (_response.error.reason === "status-code") {
            throw new errors.MergeError({
                statusCode: _response.error.statusCode,
                body: _response.error.body,
                rawResponse: _response.rawResponse,
            });
        }

        switch (_response.error.reason) {
            case "non-json":
                throw new errors.MergeError({
                    statusCode: _response.error.statusCode,
                    body: _response.error.rawBody,
                    rawResponse: _response.rawResponse,
                });
            case "timeout":
                throw new errors.MergeTimeoutError(
                    "Timeout exceeded when calling GET /ats/v1/candidates/meta/patch/{id}.",
                );
            case "unknown":
                throw new errors.MergeError({
                    message: _response.error.errorMessage,
                    rawResponse: _response.rawResponse,
                });
        }
    }

    /**
     * Returns metadata for `Candidate` POSTs.{/* BEGIN_ATS_CANDIDATE_FETCH_SUPPORTED_FIELDS * /}<Footer><MergeSupportedFieldsByIntegrationWidget requestType="GET" data="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" /></Footer>{/* END_ATS_CANDIDATE_FETCH_SUPPORTED_FIELDS * /}
     *
     * @param {Candidates.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @example
     *     await client.ats.candidates.metaPostRetrieve()
     */
    public metaPostRetrieve(
        requestOptions?: Candidates.RequestOptions,
    ): core.HttpResponsePromise<Merge.ats.MetaResponse> {
        return core.HttpResponsePromise.fromPromise(this.__metaPostRetrieve(requestOptions));
    }

    private async __metaPostRetrieve(
        requestOptions?: Candidates.RequestOptions,
    ): Promise<core.WithRawResponse<Merge.ats.MetaResponse>> {
        const _response = await (this._options.fetcher ?? core.fetcher)({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.MergeEnvironment.Production,
                "ats/v1/candidates/meta/post",
            ),
            method: "GET",
            headers: mergeHeaders(
                this._options?.headers,
                mergeOnlyDefinedHeaders({
                    Authorization: await this._getAuthorizationHeader(),
                    "X-Account-Token": requestOptions?.accountToken,
                }),
                requestOptions?.headers,
            ),
            queryParameters: requestOptions?.queryParams,
            timeoutMs: requestOptions?.timeoutInSeconds != null ? requestOptions.timeoutInSeconds * 1000 : 60000,
            maxRetries: requestOptions?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
        });
        if (_response.ok) {
            return {
                data: serializers.ats.MetaResponse.parseOrThrow(_response.body, {
                    unrecognizedObjectKeys: "passthrough",
                    allowUnrecognizedUnionMembers: true,
                    allowUnrecognizedEnumValues: true,
                    skipValidation: true,
                    breadcrumbsPrefix: ["response"],
                }),
                rawResponse: _response.rawResponse,
            };
        }

        if (_response.error.reason === "status-code") {
            throw new errors.MergeError({
                statusCode: _response.error.statusCode,
                body: _response.error.body,
                rawResponse: _response.rawResponse,
            });
        }

        switch (_response.error.reason) {
            case "non-json":
                throw new errors.MergeError({
                    statusCode: _response.error.statusCode,
                    body: _response.error.rawBody,
                    rawResponse: _response.rawResponse,
                });
            case "timeout":
                throw new errors.MergeTimeoutError("Timeout exceeded when calling GET /ats/v1/candidates/meta/post.");
            case "unknown":
                throw new errors.MergeError({
                    message: _response.error.errorMessage,
                    rawResponse: _response.rawResponse,
                });
        }
    }

    protected async _getAuthorizationHeader(): Promise<string> {
        return `Bearer ${await core.Supplier.get(this._options.apiKey)}`;
    }
}
