/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as environments from "../../../../../../environments";
import * as core from "../../../../../../core";
import * as Merge from "../../../../../index";
import * as serializers from "../../../../../../serialization/index";
import { mergeHeaders, mergeOnlyDefinedHeaders } from "../../../../../../core/headers";
import * as errors from "../../../../../../errors/index";

export declare namespace Comments {
    export interface Options {
        environment?: core.Supplier<environments.MergeEnvironment | string>;
        /** Specify a custom URL to connect the client to. */
        baseUrl?: core.Supplier<string>;
        apiKey: core.Supplier<core.BearerToken>;
        /** Override the X-Account-Token header */
        accountToken?: core.Supplier<string | undefined>;
        /** Additional headers to include in requests. */
        headers?: Record<string, string | core.Supplier<string | undefined> | undefined>;
        fetcher?: core.FetchFunction;
    }

    export interface RequestOptions {
        /** The maximum time to wait for a response in seconds. */
        timeoutInSeconds?: number;
        /** The number of times to retry the request. Defaults to 2. */
        maxRetries?: number;
        /** A hook to abort the request. */
        abortSignal?: AbortSignal;
        /** Override the X-Account-Token header */
        accountToken?: string | undefined;
        /** Additional query string parameters to include in the request. */
        queryParams?: Record<string, unknown>;
        /** Additional headers to include in the request. */
        headers?: Record<string, string | core.Supplier<string | undefined> | undefined>;
    }
}

export class Comments {
    protected readonly _options: Comments.Options;

    constructor(_options: Comments.Options) {
        this._options = _options;
    }

    /**
     * Returns a list of `Comment` objects.{/* BEGIN_TICKETING_COMMENT_FETCH_SUPPORTED_FIELDS * /}<Footer><MergeSupportedFieldsByIntegrationWidget requestType="GET" data="H4sIAAAAAAAAE+2a71PaSByH/xVuXzL8OLVeR2ZubpBYxZNoBW1tx8l8s/mSrGyyYXcDSKf/+82GgNjz2vO6IFf6DsLmSfLw2d/5RChoDIW8Jw2iGR2gZklIKiQWAXLSIC0Rx5hoUiGQMhdiJA3SQRliqTcvXWpetEmFqCxNhdQYvGHIA3UisU8apB6bwtUsYX2GQT2STNWpGKGEEOuLU6r9/BxSIZwlAwyalIos0V+DzApWYVbyi6/mZ2VuOgWldCRFFkaXOMxQ/RNzkIgxxyDEqg9qdmcczZMDrwagob5EqsoZ6qlj5hkC5KgxcECDgxqpZiIprhppnapGvR4hT2v5HdQCHNUxqYPUjHJU9f29g93XB/vVgpJf/Q8v5L/vlO+GvvBfl72Qcg+ycqdHJ26vPXbvwldu69XEnV7tu9PB1L0b/Fr2Qih3ep39897N3rnT3Dl/ooDX/e39wfWhc3jqlun0aM+9uxm7PbrT6dGBP23vnR7T8enJ24k7vdntOFd7bu9o//RY7Jy3LlWndSk6zVqNVAhLNIYSzGMq0vj4aflAEZlmBL88LtmOIcQlI7O/A1JWTTOfM1pTezWIYSoSGKsaFXE9xoBBvRmBp4YZSKyleVJzT0wkC9WkQY7ck6bbOnIeJ6A5AsbB50gaWmb4t8iSxkfii+CeVIjEWGj0qETQGHigH46Z/+PxNy8FHT0cYgGpFHWJVEimUJJb8+MwYxKDC5AQo0ZpLnf7ufKkLQUJ2NEFBlWdCatyEYrd2l2KK/MW6Zh7xWemvFSyEWh8eaHTTGLJwdF5qizF0BC9GdHr5nq9MxGKlYRy2erLijwEhRTi1I7EOe1fCnSbvfb1kZVsfsWiBUlM+1lxvgVLFxx0X8jYn2PX0P5tTuJanNHBlaXAFbCVV9jNawEdNrHUo8zjaIhrSCIViQaqN7dveSNRRQGqgR29C9yjkK6yz/5/GFYoR4yi3Qz3l8hrblVX5Tdhw8wcxESbmY38z85FYrn/ypE/W4wGOWb6JPNLbaUytDQcPWY6ynxvhlz/cGqz5J6Bb80qB39do4UX9sYh4Pd2a/yMud11XciQgaVavvA6g/5sSxvkBHla6lKRWe6sDFcZ7Colb75dNrI04jKk7WhI24lGSUVsx9uctuzOuz5wds9a/gr69o1PZFuKhHIILNmVImlxCAq7W7IWcMqkpbUAQ/q2ux82jObxS2abp9RCU0/tdkGG/uKroeuy2J1NwksdSCDEYsvRWkKLGf4DvHaXbmF3/memtIht5XROW9tC1QaZPGMJgiWPPGd9e5z5nRV+g+xdsJHQwEs9CXRgrdmcQQvmD79HfAnc9nQ9R65S3Ob0OZfYMCYsLydL9HLqGsL3/bW58PdMcV3gqPpCUlx02S0uMkvj8Qe6N1+Vp4a+2SatpbIw6oqxJZ0L3hbueHYjITW1tS40p23jYKebCu1I6FteYlOp0IHBvsz7DM8S90xjPYR4LKSlLeE5bV2VeENnLz2JnAtLSnPWo0W1d2rijI8nW9I6vpNsYGn0k6PWs+e4QQI/YGLvpY95k1hAvYNhJ3vP3mz1zs4HEYnSYRZanSQa6ANzO+Y6uUjHWlYNznO+fEFpS5J6+/kvjQDJ6zIxAAA=" /></Footer>{/* END_TICKETING_COMMENT_FETCH_SUPPORTED_FIELDS * /}
     *
     * @param {Merge.ticketing.ListCommentsRequest} request
     * @param {Comments.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @example
     *     await client.ticketing.comments.list({
     *         cursor: "cD0yMDIxLTAxLTA2KzAzJTNBMjQlM0E1My40MzQzMjYlMkIwMCUzQTAw"
     *     })
     */
    public list(
        request: Merge.ticketing.ListCommentsRequest = {},
        requestOptions?: Comments.RequestOptions,
    ): core.HttpResponsePromise<Merge.ticketing.PaginatedCommentList> {
        return core.HttpResponsePromise.fromPromise(this.__list(request, requestOptions));
    }

    private async __list(
        request: Merge.ticketing.ListCommentsRequest = {},
        requestOptions?: Comments.RequestOptions,
    ): Promise<core.WithRawResponse<Merge.ticketing.PaginatedCommentList>> {
        const {
            createdAfter,
            createdBefore,
            cursor,
            expand,
            includeDeletedData,
            includeRemoteData,
            includeShellData,
            modifiedAfter,
            modifiedBefore,
            pageSize,
            remoteCreatedAfter,
            remoteId,
            ticketId,
        } = request;
        const _queryParams: Record<string, string | string[] | object | object[] | null> = {};
        if (createdAfter != null) {
            _queryParams["created_after"] = createdAfter.toISOString();
        }

        if (createdBefore != null) {
            _queryParams["created_before"] = createdBefore.toISOString();
        }

        if (cursor != null) {
            _queryParams["cursor"] = cursor;
        }

        if (expand != null) {
            _queryParams["expand"] = serializers.ticketing.ListCommentsRequestExpand.jsonOrThrow(expand, {
                unrecognizedObjectKeys: "strip",
            });
        }

        if (includeDeletedData != null) {
            _queryParams["include_deleted_data"] = includeDeletedData.toString();
        }

        if (includeRemoteData != null) {
            _queryParams["include_remote_data"] = includeRemoteData.toString();
        }

        if (includeShellData != null) {
            _queryParams["include_shell_data"] = includeShellData.toString();
        }

        if (modifiedAfter != null) {
            _queryParams["modified_after"] = modifiedAfter.toISOString();
        }

        if (modifiedBefore != null) {
            _queryParams["modified_before"] = modifiedBefore.toISOString();
        }

        if (pageSize != null) {
            _queryParams["page_size"] = pageSize.toString();
        }

        if (remoteCreatedAfter !== undefined) {
            _queryParams["remote_created_after"] = remoteCreatedAfter?.toISOString() ?? null;
        }

        if (remoteId !== undefined) {
            _queryParams["remote_id"] = remoteId;
        }

        if (ticketId != null) {
            _queryParams["ticket_id"] = ticketId;
        }

        const _response = await (this._options.fetcher ?? core.fetcher)({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.MergeEnvironment.Production,
                "ticketing/v1/comments",
            ),
            method: "GET",
            headers: mergeHeaders(
                this._options?.headers,
                mergeOnlyDefinedHeaders({
                    Authorization: await this._getAuthorizationHeader(),
                    "X-Account-Token": requestOptions?.accountToken,
                }),
                requestOptions?.headers,
            ),
            queryParameters: { ..._queryParams, ...requestOptions?.queryParams },
            timeoutMs: requestOptions?.timeoutInSeconds != null ? requestOptions.timeoutInSeconds * 1000 : 60000,
            maxRetries: requestOptions?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
        });
        if (_response.ok) {
            return {
                data: serializers.ticketing.PaginatedCommentList.parseOrThrow(_response.body, {
                    unrecognizedObjectKeys: "passthrough",
                    allowUnrecognizedUnionMembers: true,
                    allowUnrecognizedEnumValues: true,
                    skipValidation: true,
                    breadcrumbsPrefix: ["response"],
                }),
                rawResponse: _response.rawResponse,
            };
        }

        if (_response.error.reason === "status-code") {
            throw new errors.MergeError({
                statusCode: _response.error.statusCode,
                body: _response.error.body,
                rawResponse: _response.rawResponse,
            });
        }

        switch (_response.error.reason) {
            case "non-json":
                throw new errors.MergeError({
                    statusCode: _response.error.statusCode,
                    body: _response.error.rawBody,
                    rawResponse: _response.rawResponse,
                });
            case "timeout":
                throw new errors.MergeTimeoutError("Timeout exceeded when calling GET /ticketing/v1/comments.");
            case "unknown":
                throw new errors.MergeError({
                    message: _response.error.errorMessage,
                    rawResponse: _response.rawResponse,
                });
        }
    }

    /**
     * Creates a `Comment` object with the given values.{/* BEGIN_TICKETING_COMMENT_CREATE_SUPPORTED_FIELDS * /}<Footer><MergeSupportedFieldsByIntegrationWidget requestType="POST" data="H4sIAAAAAAAAE92ZbVPiSBCA/wo3HyleTllvS6qurhAU8CR6Gt31tqxUM2mTgUkmzkxA2dr/fpUEEF0EVyec+tEweZI8dvd0Ot8JBY2ekHekTjSjQ9Qs9EiJBMJFTuqkKYIAQ01KBCJmQYCkTnooPSzYs9WFxkmXlIiKo0hIje4BQ+6qjsRrUifVIFlcjkN2zdCt+pKpKhUjlOBhdX5K+To9h5QIZ+EQ3QalIg71Kki2sAzZykd/Jj+r5KYjUEr7UsSef4o3MaqnmMNQjDm6Hpb7oLI745g8OfCyCxqqC6SyzFDLjiXP4CJHjW4LNLRQI9VMhNOr+lpHql6t+sijSnoHFRdHVQyrIDWjHFV1p7a7/Xl3pzylpFf/y/H4n1vFwU1f9D8XHY9yB+Jiz6a3lt0dWwPvk9X8dGtNznesyXBiDYa/Fx0Pij27t3NsX9aOW42t4yULnLM/vu5e7LX2Dq0inezXrMHl2LLpVs+mw/6kWzts0/Fh559ba3K53Wud1yx7f+ewLbaOm6eq1zwVvUalQkqEhRo9CcljKlL/9n3xwDRkGj789nBlNwAPF4xk/w6IWDmK+5zRiqpVIICJCGGsKlQE1QBdBtWGD466iUFiJUojNfXERDhXTepk3+o0rOZ+62EENEbAOPQ5krqWMf4UsqT+jfSFe0dKRGIgNDpUImh0HdD3x5hLStNUISUSK5TkKvnxJmYS3ROQEKBGuUibrr76UVrqRkEIZuRAgipnespceGK7MogwN0u+Drjza8ZeqWoSSyy0cHQcKUPhlBCdjOicpeKcI+GJPIPrBdrWBdpqbU3O6PA8MmNsCtuULDOCnhBzIFH5LqqhGTVz3AM5eWYgFaEGqh8FFVNOJNkINJqLsCf5q0PvQIq0ezBg94SDvhYySJEb2APyNrrM4uyc5TLbTHfifqGrVIyG6l+baT/uOxnymTltNezuxf6b9brIXx2cbaaPoG9MJIf++6qKz9t02xxcfmc2hzPme87eFaVwTRIL6TEwlL5znxn0I1TFeylOlPyiKtSHMET+XMEd5FHhjIrY8L6TcFWCzdPy5jb0J670k/619aHDRmjGdEL6iBW0G2qUVARmLM1oi6aci93W9lGzn8Ou/eZbzK4UIeXgGrIrRdjk4E7t5hmCOW5LzyqUh0wamjskpPXCXhqBObwvPyttk6cqJFO8QhOTnDO7nST0zTTZG5kxpLLOUI4YxUIPQvBwOjg2Fl8Z3LmHVwaR+eT8v6Lt71hpEZiKshltY5OIPHvsZT3Jyj7x17vyIxYiGHLPU9b6LvGVKb7J4DxhI6GBF2wJdGisEmbQKfODTfXPgKO6FpLivCo2uYgNdSn3dEdNyyJN6G/A3iu1ZU9jibEhUXPepl4sXlIIXzJleEqgL6Smpt59Z7SPsI2s9mYjBGMhDX0JmNFyD7q3M0y1JXIuDOlLWQ9ecL+o29a4ffvWMtdI7H2RbGhohJKiNjPH36ShfzE095lu9gY2hTq7N734KzvIM7Q2N0RZ41H4orAXe0b7uAR6z/xgfVxqrGUs9hKc03r8ifg9z+uXtiZXP/4DnKUjzFomAAA=" /></Footer>{/* END_TICKETING_COMMENT_CREATE_SUPPORTED_FIELDS * /}
     *
     * @param {Merge.ticketing.CommentEndpointRequest} request
     * @param {Comments.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @example
     *     await client.ticketing.comments.create({
     *         model: {}
     *     })
     */
    public create(
        request: Merge.ticketing.CommentEndpointRequest,
        requestOptions?: Comments.RequestOptions,
    ): core.HttpResponsePromise<Merge.ticketing.CommentResponse> {
        return core.HttpResponsePromise.fromPromise(this.__create(request, requestOptions));
    }

    private async __create(
        request: Merge.ticketing.CommentEndpointRequest,
        requestOptions?: Comments.RequestOptions,
    ): Promise<core.WithRawResponse<Merge.ticketing.CommentResponse>> {
        const { isDebugMode, runAsync, ..._body } = request;
        const _queryParams: Record<string, string | string[] | object | object[] | null> = {};
        if (isDebugMode != null) {
            _queryParams["is_debug_mode"] = isDebugMode.toString();
        }

        if (runAsync != null) {
            _queryParams["run_async"] = runAsync.toString();
        }

        const _response = await (this._options.fetcher ?? core.fetcher)({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.MergeEnvironment.Production,
                "ticketing/v1/comments",
            ),
            method: "POST",
            headers: mergeHeaders(
                this._options?.headers,
                mergeOnlyDefinedHeaders({
                    Authorization: await this._getAuthorizationHeader(),
                    "X-Account-Token": requestOptions?.accountToken,
                }),
                requestOptions?.headers,
            ),
            contentType: "application/json",
            queryParameters: { ..._queryParams, ...requestOptions?.queryParams },
            requestType: "json",
            body: serializers.ticketing.CommentEndpointRequest.jsonOrThrow(_body, { unrecognizedObjectKeys: "strip" }),
            timeoutMs: requestOptions?.timeoutInSeconds != null ? requestOptions.timeoutInSeconds * 1000 : 60000,
            maxRetries: requestOptions?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
        });
        if (_response.ok) {
            return {
                data: serializers.ticketing.CommentResponse.parseOrThrow(_response.body, {
                    unrecognizedObjectKeys: "passthrough",
                    allowUnrecognizedUnionMembers: true,
                    allowUnrecognizedEnumValues: true,
                    skipValidation: true,
                    breadcrumbsPrefix: ["response"],
                }),
                rawResponse: _response.rawResponse,
            };
        }

        if (_response.error.reason === "status-code") {
            throw new errors.MergeError({
                statusCode: _response.error.statusCode,
                body: _response.error.body,
                rawResponse: _response.rawResponse,
            });
        }

        switch (_response.error.reason) {
            case "non-json":
                throw new errors.MergeError({
                    statusCode: _response.error.statusCode,
                    body: _response.error.rawBody,
                    rawResponse: _response.rawResponse,
                });
            case "timeout":
                throw new errors.MergeTimeoutError("Timeout exceeded when calling POST /ticketing/v1/comments.");
            case "unknown":
                throw new errors.MergeError({
                    message: _response.error.errorMessage,
                    rawResponse: _response.rawResponse,
                });
        }
    }

    /**
     * Returns a `Comment` object with the given `id`.{/* BEGIN_TICKETING_COMMENT_FETCH_SUPPORTED_FIELDS * /}<Footer><MergeSupportedFieldsByIntegrationWidget requestType="GET" data="H4sIAAAAAAAAE+2a71PaSByH/xVuXzL8OLVeR2ZubpBYxZNoBW1tx8l8s/mSrGyyYXcDSKf/+82GgNjz2vO6IFf6DsLmSfLw2d/5RChoDIW8Jw2iGR2gZklIKiQWAXLSIC0Rx5hoUiGQMhdiJA3SQRliqTcvXWpetEmFqCxNhdQYvGHIA3UisU8apB6bwtUsYX2GQT2STNWpGKGEEOuLU6r9/BxSIZwlAwyalIos0V+DzApWYVbyi6/mZ2VuOgWldCRFFkaXOMxQ/RNzkIgxxyDEqg9qdmcczZMDrwagob5EqsoZ6qlj5hkC5KgxcECDgxqpZiIprhppnapGvR4hT2v5HdQCHNUxqYPUjHJU9f29g93XB/vVgpJf/Q8v5L/vlO+GvvBfl72Qcg+ycqdHJ26vPXbvwldu69XEnV7tu9PB1L0b/Fr2Qih3ep39897N3rnT3Dl/ooDX/e39wfWhc3jqlun0aM+9uxm7PbrT6dGBP23vnR7T8enJ24k7vdntOFd7bu9o//RY7Jy3LlWndSk6zVqNVAhLNIYSzGMq0vj4aflAEZlmBL88LtmOIcQlI7O/A1JWTTOfM1pTezWIYSoSGKsaFXE9xoBBvRmBp4YZSKyleVJzT0wkC9WkQY7ck6bbOnIeJ6A5AsbB50gaWmb4t8iSxkfii+CeVIjEWGj0qETQGHigH46Z/+PxNy8FHT0cYgGpFHWJVEimUJJb8+MwYxKDC5AQo0ZpLnf7ufKkLQUJ2NEFBlWdCatyEYrd2l2KK/MW6Zh7xWemvFSyEWh8eaHTTGLJwdF5qizF0BC9GdHr5nq9MxGKlYRy2erLijwEhRTi1I7EOe1fCnSbvfb1kZVsfsWiBUlM+1lxvgVLFxx0X8jYn2PX0P5tTuJanNHBlaXAFbCVV9jNawEdNrHUo8zjaIhrSCIViQaqN7dveSNRRQGqgR29C9yjkK6yz/5/GFYoR4yi3Qz3l8hrblVX5Tdhw8wcxESbmY38z85FYrn/ypE/W4wGOWb6JPNLbaUytDQcPWY6ynxvhlz/cGqz5J6Bb80qB39do4UX9sYh4Pd2a/yMud11XciQgaVavvA6g/5sSxvkBHla6lKRWe6sDFcZ7Colb75dNrI04jKk7WhI24lGSUVsx9uctuzOuz5wds9a/gr69o1PZFuKhHIILNmVImlxCAq7W7IWcMqkpbUAQ/q2ux82jObxS2abp9RCU0/tdkGG/uKroeuy2J1NwksdSCDEYsvRWkKLGf4DvHaXbmF3/memtIht5XROW9tC1QaZPGMJgiWPPGd9e5z5nRV+g+xdsJHQwEs9CXRgrdmcQQvmD79HfAnc9nQ9R65S3Ob0OZfYMCYsLydL9HLqGsL3/bW58PdMcV3gqPpCUlx02S0uMkvj8Qe6N1+Vp4a+2SatpbIw6oqxJZ0L3hbueHYjITW1tS40p23jYKebCu1I6FteYlOp0IHBvsz7DM8S90xjPYR4LKSlLeE5bV2VeENnLz2JnAtLSnPWo0W1d2rijI8nW9I6vpNsYGn0k6PWs+e4QQI/YGLvpY95k1hAvYNhJ3vP3mz1zs4HEYnSYRZanSQa6ANzO+Y6uUjHWlYNznO+fEFpS5J6+/kvjQDJ6zIxAAA=" /></Footer>{/* END_TICKETING_COMMENT_FETCH_SUPPORTED_FIELDS * /}
     *
     * @param {string} id
     * @param {Merge.ticketing.RetrieveCommentsRequest} request
     * @param {Comments.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @example
     *     await client.ticketing.comments.retrieve("id")
     */
    public retrieve(
        id: string,
        request: Merge.ticketing.RetrieveCommentsRequest = {},
        requestOptions?: Comments.RequestOptions,
    ): core.HttpResponsePromise<Merge.ticketing.Comment> {
        return core.HttpResponsePromise.fromPromise(this.__retrieve(id, request, requestOptions));
    }

    private async __retrieve(
        id: string,
        request: Merge.ticketing.RetrieveCommentsRequest = {},
        requestOptions?: Comments.RequestOptions,
    ): Promise<core.WithRawResponse<Merge.ticketing.Comment>> {
        const { expand, includeRemoteData, includeShellData } = request;
        const _queryParams: Record<string, string | string[] | object | object[] | null> = {};
        if (expand != null) {
            _queryParams["expand"] = serializers.ticketing.RetrieveCommentsRequestExpand.jsonOrThrow(expand, {
                unrecognizedObjectKeys: "strip",
            });
        }

        if (includeRemoteData != null) {
            _queryParams["include_remote_data"] = includeRemoteData.toString();
        }

        if (includeShellData != null) {
            _queryParams["include_shell_data"] = includeShellData.toString();
        }

        const _response = await (this._options.fetcher ?? core.fetcher)({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.MergeEnvironment.Production,
                `ticketing/v1/comments/${encodeURIComponent(id)}`,
            ),
            method: "GET",
            headers: mergeHeaders(
                this._options?.headers,
                mergeOnlyDefinedHeaders({
                    Authorization: await this._getAuthorizationHeader(),
                    "X-Account-Token": requestOptions?.accountToken,
                }),
                requestOptions?.headers,
            ),
            queryParameters: { ..._queryParams, ...requestOptions?.queryParams },
            timeoutMs: requestOptions?.timeoutInSeconds != null ? requestOptions.timeoutInSeconds * 1000 : 60000,
            maxRetries: requestOptions?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
        });
        if (_response.ok) {
            return {
                data: serializers.ticketing.Comment.parseOrThrow(_response.body, {
                    unrecognizedObjectKeys: "passthrough",
                    allowUnrecognizedUnionMembers: true,
                    allowUnrecognizedEnumValues: true,
                    skipValidation: true,
                    breadcrumbsPrefix: ["response"],
                }),
                rawResponse: _response.rawResponse,
            };
        }

        if (_response.error.reason === "status-code") {
            throw new errors.MergeError({
                statusCode: _response.error.statusCode,
                body: _response.error.body,
                rawResponse: _response.rawResponse,
            });
        }

        switch (_response.error.reason) {
            case "non-json":
                throw new errors.MergeError({
                    statusCode: _response.error.statusCode,
                    body: _response.error.rawBody,
                    rawResponse: _response.rawResponse,
                });
            case "timeout":
                throw new errors.MergeTimeoutError("Timeout exceeded when calling GET /ticketing/v1/comments/{id}.");
            case "unknown":
                throw new errors.MergeError({
                    message: _response.error.errorMessage,
                    rawResponse: _response.rawResponse,
                });
        }
    }

    /**
     * Returns metadata for `Comment` POSTs.{/* BEGIN_TICKETING_COMMENT_FETCH_SUPPORTED_FIELDS * /}<Footer><MergeSupportedFieldsByIntegrationWidget requestType="GET" data="H4sIAAAAAAAAE+2a71PaSByH/xVuXzL8OLVeR2ZubpBYxZNoBW1tx8l8s/mSrGyyYXcDSKf/+82GgNjz2vO6IFf6DsLmSfLw2d/5RChoDIW8Jw2iGR2gZklIKiQWAXLSIC0Rx5hoUiGQMhdiJA3SQRliqTcvXWpetEmFqCxNhdQYvGHIA3UisU8apB6bwtUsYX2GQT2STNWpGKGEEOuLU6r9/BxSIZwlAwyalIos0V+DzApWYVbyi6/mZ2VuOgWldCRFFkaXOMxQ/RNzkIgxxyDEqg9qdmcczZMDrwagob5EqsoZ6qlj5hkC5KgxcECDgxqpZiIprhppnapGvR4hT2v5HdQCHNUxqYPUjHJU9f29g93XB/vVgpJf/Q8v5L/vlO+GvvBfl72Qcg+ycqdHJ26vPXbvwldu69XEnV7tu9PB1L0b/Fr2Qih3ep39897N3rnT3Dl/ooDX/e39wfWhc3jqlun0aM+9uxm7PbrT6dGBP23vnR7T8enJ24k7vdntOFd7bu9o//RY7Jy3LlWndSk6zVqNVAhLNIYSzGMq0vj4aflAEZlmBL88LtmOIcQlI7O/A1JWTTOfM1pTezWIYSoSGKsaFXE9xoBBvRmBp4YZSKyleVJzT0wkC9WkQY7ck6bbOnIeJ6A5AsbB50gaWmb4t8iSxkfii+CeVIjEWGj0qETQGHigH46Z/+PxNy8FHT0cYgGpFHWJVEimUJJb8+MwYxKDC5AQo0ZpLnf7ufKkLQUJ2NEFBlWdCatyEYrd2l2KK/MW6Zh7xWemvFSyEWh8eaHTTGLJwdF5qizF0BC9GdHr5nq9MxGKlYRy2erLijwEhRTi1I7EOe1fCnSbvfb1kZVsfsWiBUlM+1lxvgVLFxx0X8jYn2PX0P5tTuJanNHBlaXAFbCVV9jNawEdNrHUo8zjaIhrSCIViQaqN7dveSNRRQGqgR29C9yjkK6yz/5/GFYoR4yi3Qz3l8hrblVX5Tdhw8wcxESbmY38z85FYrn/ypE/W4wGOWb6JPNLbaUytDQcPWY6ynxvhlz/cGqz5J6Bb80qB39do4UX9sYh4Pd2a/yMud11XciQgaVavvA6g/5sSxvkBHla6lKRWe6sDFcZ7Colb75dNrI04jKk7WhI24lGSUVsx9uctuzOuz5wds9a/gr69o1PZFuKhHIILNmVImlxCAq7W7IWcMqkpbUAQ/q2ux82jObxS2abp9RCU0/tdkGG/uKroeuy2J1NwksdSCDEYsvRWkKLGf4DvHaXbmF3/memtIht5XROW9tC1QaZPGMJgiWPPGd9e5z5nRV+g+xdsJHQwEs9CXRgrdmcQQvmD79HfAnc9nQ9R65S3Ob0OZfYMCYsLydL9HLqGsL3/bW58PdMcV3gqPpCUlx02S0uMkvj8Qe6N1+Vp4a+2SatpbIw6oqxJZ0L3hbueHYjITW1tS40p23jYKebCu1I6FteYlOp0IHBvsz7DM8S90xjPYR4LKSlLeE5bV2VeENnLz2JnAtLSnPWo0W1d2rijI8nW9I6vpNsYGn0k6PWs+e4QQI/YGLvpY95k1hAvYNhJ3vP3mz1zs4HEYnSYRZanSQa6ANzO+Y6uUjHWlYNznO+fEFpS5J6+/kvjQDJ6zIxAAA=" /></Footer>{/* END_TICKETING_COMMENT_FETCH_SUPPORTED_FIELDS * /}
     *
     * @param {Comments.RequestOptions} requestOptions - Request-specific configuration.
     *
     * @example
     *     await client.ticketing.comments.metaPostRetrieve()
     */
    public metaPostRetrieve(
        requestOptions?: Comments.RequestOptions,
    ): core.HttpResponsePromise<Merge.ticketing.MetaResponse> {
        return core.HttpResponsePromise.fromPromise(this.__metaPostRetrieve(requestOptions));
    }

    private async __metaPostRetrieve(
        requestOptions?: Comments.RequestOptions,
    ): Promise<core.WithRawResponse<Merge.ticketing.MetaResponse>> {
        const _response = await (this._options.fetcher ?? core.fetcher)({
            url: core.url.join(
                (await core.Supplier.get(this._options.baseUrl)) ??
                    (await core.Supplier.get(this._options.environment)) ??
                    environments.MergeEnvironment.Production,
                "ticketing/v1/comments/meta/post",
            ),
            method: "GET",
            headers: mergeHeaders(
                this._options?.headers,
                mergeOnlyDefinedHeaders({
                    Authorization: await this._getAuthorizationHeader(),
                    "X-Account-Token": requestOptions?.accountToken,
                }),
                requestOptions?.headers,
            ),
            queryParameters: requestOptions?.queryParams,
            timeoutMs: requestOptions?.timeoutInSeconds != null ? requestOptions.timeoutInSeconds * 1000 : 60000,
            maxRetries: requestOptions?.maxRetries,
            abortSignal: requestOptions?.abortSignal,
        });
        if (_response.ok) {
            return {
                data: serializers.ticketing.MetaResponse.parseOrThrow(_response.body, {
                    unrecognizedObjectKeys: "passthrough",
                    allowUnrecognizedUnionMembers: true,
                    allowUnrecognizedEnumValues: true,
                    skipValidation: true,
                    breadcrumbsPrefix: ["response"],
                }),
                rawResponse: _response.rawResponse,
            };
        }

        if (_response.error.reason === "status-code") {
            throw new errors.MergeError({
                statusCode: _response.error.statusCode,
                body: _response.error.body,
                rawResponse: _response.rawResponse,
            });
        }

        switch (_response.error.reason) {
            case "non-json":
                throw new errors.MergeError({
                    statusCode: _response.error.statusCode,
                    body: _response.error.rawBody,
                    rawResponse: _response.rawResponse,
                });
            case "timeout":
                throw new errors.MergeTimeoutError(
                    "Timeout exceeded when calling GET /ticketing/v1/comments/meta/post.",
                );
            case "unknown":
                throw new errors.MergeError({
                    message: _response.error.errorMessage,
                    rawResponse: _response.rawResponse,
                });
        }
    }

    protected async _getAuthorizationHeader(): Promise<string> {
        return `Bearer ${await core.Supplier.get(this._options.apiKey)}`;
    }
}
